# âœï¸ [TIL] 2023-08-24

<br>

ë™ì ìœ¼ë¡œ ë§Œë“  ë”ì— ê³„ì† ì¸ë¼ì¸ìœ¼ë¡œ ë„£ì€ ì´ë²¤íŠ¸ê°€ ì•„ë‹ˆë©´ ì ìš©ì´ ì•ˆëë‹¤..

ê·¸ ì´ìœ ëŠ” ì´ë²¤íŠ¸ ìœ„ì„ì„ ì‚¬ìš©í•´ì•¼ í–ˆê¸° ë•Œë¬¸!!!

<br>

---

<br>

ë™ì ìœ¼ë¡œ ìƒì„±ëœ DOM ìš”ì†Œì— ì´ë²¤íŠ¸ë¥¼ ì ìš©í•˜ë ¤ë©´ ì´ë²¤íŠ¸ ìœ„ì„(Event Delegation)ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.

**ì´ë²¤íŠ¸ ìœ„ì„**ì€ ë™ì ìœ¼ë¡œ ìƒì„±ë˜ëŠ” ìš”ì†Œë“¤ì— ëŒ€í•œ ì´ë²¤íŠ¸ ì²˜ë¦¬ë¥¼ í•´ë‹¹ ë¶€ëª¨ ìš”ì†Œë‚˜ ë” ìƒìœ„ ìš”ì†Œì— ìœ„ì„í•˜ì—¬ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.

```jsx
// ì´ë²¤íŠ¸ ìœ„ì„ì„ ì ìš©í•  ë¶€ëª¨ ìš”ì†Œë¥¼ ì„ íƒí•˜ê³ , í•´ë‹¹ ìš”ì†Œì˜ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤.
$(document).on("click", "[data-role=show-button]", function (e) {
  $(this).siblings("[data-role=notice]").toggle();
  return false;
});
```

<br>

ìœ„ ì½”ë“œì—ì„œ `$(document)`ëŠ” ì´ë²¤íŠ¸ ìœ„ì„ì„ ì ìš©í•  ë²”ìœ„ë¥¼ ë‚˜íƒ€ë‚´ë©°,

ì´ë²¤íŠ¸ ìœ„ì„ì„ ì ìš©í•˜ë ¤ëŠ” ìš”ì†Œì˜ ìƒìœ„ ìš”ì†Œë¥¼ ì„ íƒí•©ë‹ˆë‹¤.

ì´í›„ì˜ `'\click'`ì€ ì²˜ë¦¬í•˜ë ¤ëŠ” ì´ë²¤íŠ¸ ì¢…ë¥˜ë¥¼ ë‚˜íƒ€ë‚´ë©°,

`[data-role=show-button]`ëŠ” í´ë¦­ ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ ë•Œ ì„ íƒë˜ì–´ ì²˜ë¦¬ë  ìš”ì†Œë¥¼ í•„í„°ë§í•©ë‹ˆë‹¤.

ì´ì œ ìœ„ì˜ ì´ë²¤íŠ¸ ìœ„ì„ì„ í¬í•¨í•œ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ë™ì ìœ¼ë¡œ ìƒì„±ëœ ìš”ì†Œì— í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<br>

ìœ„ ì½”ë“œëŠ” ì œì´ì¿¼ë¦¬ë¡œ ì§  ì½”ë“œ! ì œì´ì¿¼ë¦¬ â‡’ ììŠ¤ ë³€í™˜í•˜ê¸°

```jsx
const parentElement = document; // ë‚´ì¥ê°ì²´ document ì„ íƒ

// í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ë¶€ëª¨ ìš”ì†Œì— ì¶”ê°€í•˜ì—¬ ì´ë²¤íŠ¸ ìœ„ì„ì„ êµ¬í˜„í•©ë‹ˆë‹¤.
parentElement.addEventListener("click", function (event) {
  // í´ë¦­ëœ ìš”ì†Œë¥¼ í™•ì¸í•©ë‹ˆë‹¤.
  const clickedElement = event.target;

  // í´ë¦­ëœ ìš”ì†Œì˜ [data-role] ì†ì„± ê°’ì„ í™•ì¸í•˜ì—¬ í•„í„°ë§í•©ë‹ˆë‹¤.
  if (clickedElement.getAttribute("data-role") === "deallist-admon-show") {
    // í´ë¦­ëœ ìš”ì†Œì˜ í˜•ì œ ìš”ì†Œ ì¤‘ [data-role=deallist-admon-notice]ì¸ ìš”ì†Œë¥¼ ì°¾ì•„ í† ê¸€í•©ë‹ˆë‹¤.
    const admonNotice = clickedElement.nextElementSibling;
    if (
      admonNotice &&
      admonNotice.getAttribute("data-role") === "deallist-admon-notice"
    ) {
      admonNotice.style.display =
        admonNotice.style.display === "none" ? "block" : "none";
    }
  }
});
```

### ì‹¤ì œ ë°˜ì˜ ì½”ë“œ

```jsx
// ìµœìƒìœ„ ë¶€ëª¨ ì•„ì´ë”” #containerë¥¼ ìœ„ì„í•  ë¶€ëª¨ ìš”ì†Œë¡œ ì„ íƒ
const parentElement = document.getElementById("container");

// ë™ì  DOM ìš”ì†Œ í´ë¦­ ì´ë²¤íŠ¸ - ë¶€ëª¨ ìš”ì†Œì— ì¶”ê°€í•˜ì—¬ ì´ë²¤íŠ¸ ìœ„ì„
parentElement.addEventListener("click", function (e) {
  const clickElement = e.target;
  if (clickElement.getAttribute("data-role") === "show-button") {
    const eventElement = clickElement.nextElementSibling;
    if (eventElement.getAttribute("data-role") === "notice") {
      // í† ê¸€ ê¸°ëŠ¥
      eventElement.style.display =
        eventElement.style.display === "none" ? "block" : "none";
    }
  }
});
```

<br>

## ì´ë²¤íŠ¸ ìœ„ì„

Event delegationì€ ì´ë²¤íŠ¸ë¥¼ ì£¼ë ¤ëŠ” ìš”ì†Œì˜ ë¶€ëª¨ ìš”ì†Œì—ê²Œ ì´ë²¤íŠ¸ë¥¼ ìœ„ì„í•˜ëŠ” ê²ƒì„ ë§í•œë‹¤.

ì´ë¥¼ ì´ìš©í•˜ë©´ ìš”ì†Œë“¤ì„ ë™ì ìœ¼ë¡œ ì¶”ê°€í•´ë„ ë”°ë¡œ ì¶”ê°€ ìˆ˜ì • ì—†ì´ ê³„ì† ì´ë²¤íŠ¸ë¥¼ ì¤„ ìˆ˜ ìˆë‹¤.
ë˜ ìì‹ ë…¸ë“œì— ì¼ì¼ì´ ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•˜ì§€ ì•Šì•„ë„, ìì‹ ìš”ì†Œë¡œ ì´ë²¤íŠ¸ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆì–´ íš¨ìœ¨ì ì¸ ì½”ë”©ì´ ê°€ëŠ¥í•˜ë‹¤.

<br>

```html
<ul>
  <li>
    <img src="example_img1.jpg" class="product-image" />
  </li>
  <li>
    <img src="example_img2.jpg" class="product-image" />
  </li>
</ul>
```

<br>

```javascript
const ul = document.querySelector("ul");

ul.addEventListener("click", function (evt) {
  console.log(evt.currentTarget, evt.target);
});
```

<br>

- evt.currentTarget : ul íƒœê·¸ ë‚´ìš©
- evt.target : ì‹¤ì œ í´ë¦­í•œ íƒœê·¸ ë‚´ìš©

ul íƒœê·¸ ì•ˆì˜ imgë‚˜ li íƒœê·¸ë¥¼ í´ë¦­í•´ë„ ul íƒœê·¸ë¥¼ í´ë¦­í–ˆì„ ë•Œì™€ ê°™ì€ ì´ë²¤íŠ¸ê°€ ë°œìƒí•œë‹¤.

**í´ë¦­í•œ ì§€ì ì´ í•˜ìœ„ ì—˜ë¦¬ë¨¼íŠ¸ë¼ê³  í•´ë„, ê·¸ê²ƒì„ ê°ì‹¸ê³  ìˆëŠ” ìƒìœ„ ì—˜ë¦¬ë¨¼íŠ¸ê¹Œì§€ ì˜¬ë¼ê°€ë©° í•´ë‹¹ ì—˜ë¦¬ë¨¼íŠ¸ì— ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆê°€ ìˆëŠ”ì§€ ì°¾ì•„ ì‹¤í–‰í•œë‹¤.**

ì´ê±¸ `ì´ë²¤íŠ¸ ë²„ë¸”ë§`ì´ë¼ê³  í•œë‹¤.

<br>
<br>

## indexOf

[ğŸ”— MDN - Array.prototype.indexOf()](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf)

[ğŸ”— MDN - String.prototype.indexOf()](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/String/indexOf)

### ì •ì˜

indexOf() ë©”ì„œë“œëŠ” ë°°ì—´ì—ì„œ ì§€ì •ëœ ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ ìˆëŠ” ì²« ë²ˆì§¸ ì¸ë±ìŠ¤ë¥¼ ë°˜í™˜í•˜ê³  ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ -1ì„ ë°˜í™˜í•©ë‹ˆë‹¤.

<br>

ë°°ì—´, ë¬¸ìì—´ ë‘ê°œì— ì‚¬ìš© ê°€ëŠ¥í–ˆêµ°!!! ë°°ì—´ì—ë§Œ ì‚¬ìš©ë˜ëŠ”ê±¸ë¡œ ì°©ê°í–ˆë‹¤.

ë‚´ê°€ ì—…ë¬´ë¥¼ í•˜ë©´ì„œ ì‚¬ìš©í•œ ê²½ìš°ëŠ” String ì´ì˜€ë‹¤.

```jsx
function getClassName() {
  const url = "https://example.com";

  if (url.indexOf("example") === -1) return "thumb_img";
  else return "thumb";
}

export default () => {
  const img = documents.createElement("img");
  img.setAttribute("class", getClassName());
  img.setAttribute("src", url);

  return img;
};
```

img íƒœê·¸ ì£¼ì†Œ ì•ˆì— íŠ¹ì • ë¬¸ìì—´ì˜ ìœ ë¬´ì— ë”°ë¼ í´ë˜ìŠ¤ëª…ì„ ë‹¤ë¥´ê²Œ í•˜ê¸° ìœ„í•´ì„œ indexOf ë¥¼ ì‚¬ìš©í–ˆë‹¤.

-1 ì„ ë°˜í™˜í•˜ëŠ” ê²ƒì€ exampleì´ ì£¼ì†Œ ì•ˆì— ì—†ëŠ” ê²ƒì´ë‹¤.
example ì´ ì—†ìœ¼ë©´ img.thumb_img í´ë˜ìŠ¤ê°€ ë˜ëŠ” ê²ƒì´ê³ ,

srcì— exampleì´ ìˆë‹¤ë©´, img.thumb ìœ¼ë¡œ í´ë˜ìŠ¤ëª…ì´ ì„¤ì •ëœë‹¤.
